# MEVU Backend Environment Variables
# Copy this file to .env and fill in your values

# Server Configuration
PORT=3000
NODE_ENV=development
SWAGGER_BASE_URL=http://localhost:3000

# Debug log ingest (Cursor/IDE). Only used when set. From Docker use host so host receives logs:
# DEBUG_INGEST_URL=http://host.docker.internal:7245/ingest/60ddb764-e4c3-47f8-bbea-98f9add98263

# Database Configuration (PostgreSQL - production only)
DATABASE_URL=postgresql://user:password@localhost:5432/mevu

# Redis (optional - for cluster broadcast; omit for dev/single-worker)
# REDIS_URL=redis://localhost:6379

# Privy Configuration - Get from https://dashboard.privy.io
PRIVY_APP_ID=your-privy-app-id
PRIVY_APP_SECRET=your-privy-app-secret

# Builder Signing Server URL
# Your builder signing server (runs with builder credentials)
# The backend just points to this - no builder credentials needed here
BUILDER_SIGNING_SERVER_URL=http://localhost:5001/sign

# Polymarket Relayer URL
POLYMARKET_RELAYER_URL=https://relayer-v2.polymarket.com/

# Kalshi API Configuration
# Get your API credentials from https://kalshi.com/trade-api (Account & Security â†’ API Keys)
# Required for WebSocket authentication (401 errors without it)
# API Key ID: UUID displayed when you create the key (e.g., 673def0f-af51-42e5-b9c4-2e59ae9cd058)
# Private Key: RSA private key downloaded as .key file (keep secure!)
# Note: Private key must be quoted and use \n for newlines (docker-compose requirement)
KALSHI_API_KEY_ID=your-kalshi-api-key-id-here
KALSHI_API_PRIVATE_KEY="-----BEGIN RSA PRIVATE KEY-----\nyour-private-key-content-here\n-----END RSA PRIVATE KEY-----"
# Maximum number of WebSocket subscriptions (conservative memory guard, default: 1000)
# Kalshi doesn't document a hard limit, but 1000 is a safe default
# Increase if you have more markets and monitor logs for subscription errors
# KALSHI_MAX_SUBSCRIPTIONS=1000


# Alchemy Solana webhook - register user Solana wallets for USDC balance tracking
# Create an Address Activity webhook for Solana in Alchemy Dashboard. Use this URL when configuring the webhook.
# ALCHEMY_SOLANA_WEBHOOK_URL=https://dev.api.mevu.com/api/webhooks/alchemy-solana
# Webhook ID from Alchemy Dashboard (required for adding addresses)
# ALCHEMY_SOLANA_WEBHOOK_ID=wh_xxx

# Geo-fencing for Kalshi trading routes
# GEO_ENFORCEMENT_ENABLED=false: Kalshi routes work for all users (no restriction)
# GEO_ENFORCEMENT_ENABLED=true: block countries in GEO_BLOCKLIST_COUNTRIES, except whitelisted users
GEO_ENFORCEMENT_ENABLED=false
# Comma-separated country codes to block when enforcement enabled. E.g. GEO_BLOCKLIST_COUNTRIES=CN,RU,KP
# If empty, backward compat: block non-US only.
# GEO_BLOCKLIST_COUNTRIES=
# Comma-separated Privy user IDs that bypass geo block (allowed from any country)
# GEO_WHITELIST_PRIVY_IDS=did:privy:xxx,did:privy:yyy

# Blockchain Configuration
RPC_URL=https://polygon-rpc.com
